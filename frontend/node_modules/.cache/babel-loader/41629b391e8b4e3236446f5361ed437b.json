{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"../../axios\";\nexport const fetchAuth = createAsyncThunk(\"auth/fetchAuth\", async params => {\n  const {\n    data\n  } = await axios.post(\"/auth/login\", params);\n  return data;\n});\nexport const fetchAuthMe = createAsyncThunk(\"auth/fetchAuthMe\", async () => {\n  const {\n    data\n  } = await axios.get(\"/auth/me\");\n  return data;\n});\nexport const fetchRegister = createAsyncThunk(\"auth/fetchRegister\", async params => {\n  const {\n    data\n  } = await axios.post(\"/auth/register\", params);\n  return data;\n});\nexport const fetchUpdateMe = createAsyncThunk(\"auth/fetchUpdateMe\", async (updateData, _ref) => {\n  let {\n    getState\n  } = _ref;\n\n  try {\n    const {\n      data\n    } = await axios.patch(\"/auth/update/me\", updateData); // Kullanıcının profil bilgileri güncellendiğinde, güncellenmiş veriyi Redux store'a aktarabiliriz\n\n    const currentState = getState();\n    const updatedUserData = { ...currentState.auth.data,\n      ...updateData\n    };\n    return updatedUserData;\n  } catch (error) {\n    throw error; // Hata durumunda hatayı yeniden fırlat\n  }\n});\nconst initialState = {\n  data: null,\n  status: \"loading\"\n};\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    logout: state => {\n      state.data = null;\n    }\n  },\n  extraReducers: {\n    [fetchAuth.pending]: state => {\n      state.status = \"loading\";\n      state.data = null;\n    },\n    [fetchAuth.fulfilled]: (state, action) => {\n      state.data = action.payload;\n      state.status = \"loaded\";\n    },\n    [fetchAuth.rejected]: state => {\n      state.status = \"error\";\n      state.data = null;\n    },\n    [fetchAuthMe.pending]: state => {\n      state.status = \"loading\";\n      state.data = null;\n    },\n    [fetchAuthMe.fulfilled]: (state, action) => {\n      state.status = \"loaded\";\n      state.data = action.payload;\n    },\n    [fetchAuthMe.rejected]: state => {\n      state.status = \"error\";\n      state.data = null;\n    },\n    [fetchRegister.pending]: state => {\n      state.status = \"loading\";\n      state.data = null;\n    },\n    [fetchRegister.fulfilled]: (state, action) => {\n      state.data = action.payload;\n      state.status = \"loaded\";\n    },\n    [fetchRegister.rejected]: state => {\n      state.status = \"error\";\n      state.data = null;\n    },\n\n    /*buradan*/\n    [fetchUpdateMe.pending]: state => {\n      state.status = \"loading\";\n      state.data = null;\n    },\n    [fetchUpdateMe.fulfilled]: (state, action) => {\n      state.data = action.payload;\n      state.status = \"loaded\";\n    },\n    [fetchUpdateMe.rejected]: state => {\n      state.status = \"error\";\n      state.data = null;\n    }\n  }\n});\nexport const selectIsAuth = state => Boolean(state.auth.data);\nexport const {\n  logout\n} = authSlice.actions;\nexport const authReducer = authSlice.reducer;\nexport const selectUserRole = state => state.auth.data ? state.auth.data.userRole : null;\nexport const selectUserID = state => state.auth.data ? state.auth.data.userID : null;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchAuth","params","data","post","fetchAuthMe","get","fetchRegister","fetchUpdateMe","updateData","getState","patch","currentState","updatedUserData","auth","error","initialState","status","authSlice","name","reducers","logout","state","extraReducers","pending","fulfilled","action","payload","rejected","selectIsAuth","Boolean","actions","authReducer","reducer","selectUserRole","userRole","selectUserID","userID"],"sources":["C:/Users/begah/OneDrive/Masaüstü/raspv2/frontend/src/redux/slices/auth.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"../../axios\";\n\nexport const fetchAuth = createAsyncThunk(\"auth/fetchAuth\", async (params) => {\n  const { data } = await axios.post(\"/auth/login\", params);\n  return data;\n});\n\nexport const fetchAuthMe = createAsyncThunk(\"auth/fetchAuthMe\", async () => {\n  const { data } = await axios.get(\"/auth/me\");\n  return data;\n});\n\nexport const fetchRegister = createAsyncThunk(\n  \"auth/fetchRegister\",\n  async (params) => {\n    const { data } = await axios.post(\"/auth/register\", params);\n    return data;\n  }\n);\nexport const fetchUpdateMe = createAsyncThunk(\"auth/fetchUpdateMe\", async (updateData, { getState }) => {\n  try {\n    const { data } = await axios.patch(\"/auth/update/me\", updateData);\n    // Kullanıcının profil bilgileri güncellendiğinde, güncellenmiş veriyi Redux store'a aktarabiliriz\n    const currentState = getState();\n    const updatedUserData = { ...currentState.auth.data, ...updateData };\n    return updatedUserData;\n  } catch (error) {\n    throw error; // Hata durumunda hatayı yeniden fırlat\n  }\n});\n\n\nconst initialState = {\n  data: null,\n  status: \"loading\",\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    logout: (state) => {\n      state.data = null;\n    },\n  },\n  extraReducers: {\n    [fetchAuth.pending]: (state) => {\n      state.status = \"loading\";\n      state.data = null;\n    },\n    [fetchAuth.fulfilled]: (state, action) => {\n      state.data = action.payload;\n      state.status = \"loaded\";\n    },\n    [fetchAuth.rejected]: (state) => {\n      state.status = \"error\";\n      state.data = null;\n    },\n    [fetchAuthMe.pending]: (state) => {\n      state.status = \"loading\";\n      state.data = null;\n    },\n    [fetchAuthMe.fulfilled]: (state, action) => {\n      state.status = \"loaded\";\n      state.data = action.payload;\n    },\n    [fetchAuthMe.rejected]: (state) => {\n      state.status = \"error\";\n      state.data = null;\n    },\n    [fetchRegister.pending]: (state) => {\n      state.status = \"loading\";\n      state.data = null;\n    },\n    [fetchRegister.fulfilled]: (state, action) => {\n      state.data = action.payload;\n      state.status = \"loaded\";\n    },\n    [fetchRegister.rejected]: (state) => {\n      state.status = \"error\";\n      state.data = null;\n    },\n    /*buradan*/\n    [fetchUpdateMe.pending]: (state) => {\n      state.status = \"loading\";\n      state.data = null;\n    },\n    [fetchUpdateMe.fulfilled]: (state, action) => {\n      state.data = action.payload;\n      state.status = \"loaded\";\n    },\n    [fetchUpdateMe.rejected]: (state) => {\n      state.status = \"error\";\n      state.data = null;\n    },\n  },\n});\nexport const selectIsAuth = (state) => Boolean(state.auth.data);\n\nexport const { logout } = authSlice.actions;\n\nexport const authReducer = authSlice.reducer;\n\nexport const selectUserRole = (state) => state.auth.data ? state.auth.data.userRole : null;\n\nexport const selectUserID = (state) => state.auth.data ? state.auth.data.userID : null;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}